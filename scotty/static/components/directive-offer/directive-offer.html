<div ng-class="{ panel: hcPanel, 'panel-default': hcPanel }">
  <div ng-if="hcPanel" class="panel-heading">
    <h3 class="panel-title">
      <a ng-if="hcLink" ui-sref="offer({ id: model.id })">{{ hcTitle }}</a>
      <span ng-if="!hcLink">{{ hcTitle }}</span>
    </h3>
  </div>
  <div ng-class="{ 'panel-body': hcPanel }">
    <span>
      <span ng-if="hcRejectButton && model.canReject()">
        <button type="button" class="btn btn-danger"
          ng-click="model.reject(hcRejectReason).then(onStatusChange)">
          Reject
        </button>
      </span>

      <span ng-if="hcNextStatus && model.getNextStatus()">
        <button type="button" class="btn btn-primary"
          ng-click="model.nextStatus().then(onStatusChange)">
          {{ model.getNextStatusText() }}
        </button>
      </span>

      <span ng-if="hcHireButton && model.canHire()">
        <button type="button" class="btn btn-success"
          ng-click="model.hired().then(onStatusChange)">
          Hired
        </button>
      </span>

      <span ng-transclude></span>
    </span>

    <span ng-if="hcLink && !hcPanel">
      <a ui-sref="offer({ id: model.id })">View offer details</a>
    </span>

    <dl class="dl-horizontal">
      <dt>Status</dt>
      <dd><span class="label label-default" ng-class="{
        'label-success': model.status === 'ACCEPTED' || model.status === 'JOB_STARTED',
        'label-danger': model.status === 'REJECTED',
      }">{{ model.statusText }}</span></dd>
      <dt ng-if="!hide.rejectReason && model.status === 'REJECTED'">Reason</dt>
      <dd ng-if="!hide.rejectReason && model.status === 'REJECTED'">
        {{ model.data.rejected_text || model.data.rejected_reason }}
      </dd>
      <dt ng-if="!hide.employer">Employer</dt>
      <dd ng-if="!hide.employer">
        <img class="logo" ng-if="!hide.employerLogo" ng-src="{{ model.data.employer.logo_url }}">
        <span ng-if="!hcProfileLinks">{{ model.data.employer.company_name }}</span>
        <a ng-if="hcProfileLinks" ui-sref="employer({ id: model.data.employer.id })">
          {{ model.data.employer.company_name }}
        </a>
      </dd>
      <dt ng-if="!hide.candidate">Candidate</dt>
      <dd ng-if="!hide.candidate">
        <img class="avatar" ng-if="!hide.candidatePicture" ng-src="{{ model.data.candidate.picture_url }}">
        <span ng-if="!hcProfileLinks">
          {{ model.data.candidate.first_name }} {{ model.data.candidate.last_name }}
        </span>
        <a ng-if="hcProfileLinks" ui-sref="candidate({ id: model.data.candidate.id })">
          {{ model.data.candidate.first_name }} {{ model.data.candidate.last_name }}
        </a>
      </dd>
      <dt>Created</dt>
      <dd>{{ model.data.created | timeAgo }}</dd>
      <dt ng-if="!hide.location">Location</dt>
      <dd ng-if="!hide.location">{{ model.data.location.city }}, {{ model.data.location.country_iso }}</dd>
      <dt ng-if="!hide.salary">Salary</dt>
      <dd ng-if="!hide.salary">{{ model.data.annual_salary | dottedInteger }} €/year</dd>
      <dt ng-if="!hide.technologies">Technologies</dt>
      <dd ng-if="!hide.technologies">{{ model.data.technologies.join(', ') }}</dd>
      <dt ng-if="!hide.benefits">Benefits</dt>
      <dd ng-if="!hide.benefits">{{ model.data.benefits.join(', ') }}</dd>
      <dt ng-if="!hide.message">Message</dt>
      <dd ng-if="!hide.message">{{ model.data.message }}</dd>
      <dt>Job Description</dt>
      <dd ng-bind-html="model.data.job_description"></dd>
      <dt ng-if="!hide.hiringProcess">Hiring process</dt>
      <dd ng-if="!hide.hiringProcess" ng-bind-html="model.data.interview_details"></dd>
    </dl>
  </div>
</div>
