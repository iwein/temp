<div class="component-employer-profile" ng-show="ready">
<div class="inner">
<div class="status-wrap">
  <div class="status">
    <button class="fl-rg btn-edit"
            ng-show="!isEditing"
            ng-show="isEditing && !formOpen"
            ng-click="profile.edit()">
      <i class="fa fa-pencil"></i>
      <translate>Edit mode</translate>
    </button>
    <button class="fl-rg btn-edit"
            ng-show="isEditing && !formOpen"
            ng-click="profile.stopEdit()">
      <i class="fa fa-check"></i>
      <translate>Finish editing</translate>
    </button>
  </div>
</div>
<div class="row">
<div class="col-sm-3">
<div class="row">
<div class="col-sm-12 bg-gray-light">
  <button class="edit-user-pic-btn" ng-show="isEditing && !openForm" ng-click="picture.edit()">
    <i class="fa fa-camera-retro"></i>
  </button>
  <div class="edit-user-pic" ng-show="picture.editing">
    <form class="bg-gray-lighter3 padd-vert col-sm-12" ng-submit="picture.save(picture.data.logo_url)">
      <h5 class="edit-title" translate>Profile picture</h5>
      <div class="mrg-btm-small">
        <div class="uploadFile">
          <span translate>Select</span>
          <input type="file"
                 class="mrg-btm"
                 name="photo"
                 accept="image/*"
                 ng-required="true"
                 ng-disabled="loading"
                 ng-model="picture.data.logo_url"
                 hc-file-select="selectFile($files)"
                 hc-data-url="selectedPicture">
        </div>
        <div class="uploadText" translate>Upload a photo at least 235 px wide.</div>
        <div class="clearfix"></div>
      </div>
      <div class="col-sm-6 company-pic-preview mrg-btm-small" ng-style="{'background-image': 'url(' + (selectedPicture[0]||data.logo_url) + ')'}"></div>
      <div class="buttons-wrap mrg-btm">
        <button type="button"
                class="fl-lf bg-gray-lighter2 btn-small"
                ng-click="picture.close()"
                ng-disabled="loading"
                translate>
          Cancel
        </button>
        <button type="submit"
                class="fl-lf bg-green btn-small mrg-lft-small"
                ng-disabled="loading"
                translate>
          Save
        </button>
      </div>
    </form>
  </div>
  <div class="user-pic emp-pic" ng-style="{'background-image': 'url(' + data.logo_url +')'}"></div>
</div>
<!--  EDIT Contacts box (remove hidden class to display)-->
<div class="edit-salary mrg-btm" ng-show="company.editing">
  <form class="edit-form" ng-submit="company.save(company.data)">
    <button class="add-panel-close" ng-click="company.close()"><i class="fa fa-close"></i></button>
    <h5 class="edit-title" translate>Website</h5>
    <div>
      <input type="url"
             class="form-control mrg-btm"
             name="website"
             required
             ng-disabled="loading"
             ng-model="company.data.website">
    </div>
    <h5 class="edit-title" translate>Founding year</h5>
    <div>
      <input type="number"
             class="form-control mrg-btm"
             placeholder="Founding year"
             name="founding_year"
             placeholder="VC Founding amount"
             name="funding_amount"
             ng-disabled="loading"
             ng-model="company.data.funding_year">
    </div>
    <h5 class="edit-title" translate>Annual Revenue</h5>
    <div>
      <input type="dotted-integer"
             class="form-control mrg-btm"
             placeholder="Annual revenue"
             name="revenue_pa"
             ng-disabled="loading"
             ng-model="company.data.revenue_pa">
    </div>
    <h5 class="edit-title" translate>Vic Fund Amounting</h5>
    <div>
      <input type="dotted-integer"
             class="form-control mrg-btm"
             placeholder="VC Founding amount"
             name="funding_amount"
             ng-disabled="loading"
             ng-model="company.data.funding_amount">
    </div>
    <h5 class="edit-title" translate>Company size</h5>
    <div>
      <input type="number"
             class="form-control mrg-btm"
             placeholder="Company size"
             name="no_of_employees"
             ng-disabled="loading"
             ng-model="company.data.no_of_employees">
    </div>

    <div class="buttons-wrap">
      <button type="submit"
              class="fl-rg bg-green btn-small mrg-lft-small"
              ng-disabled="loading"
              translate>
        Save
      </button>
      <button type="button"
              class="fl-rg bg-gray-lighter2 btn-small"
              ng-click="company.close()"
              ng-disabled="loading"
              translate>
        Cancel
      </button>
    </div>
    <div class="clearfix"></div>
  </form>
</div>

<!-- END EDIT Contacts box-->
<div class="col-sm-12 border-box mrg-btm padd-vert">

  <button type="submit"
          class="btn-edit-sub"
          ng-disabled="loading || formOpen"
          ng-show="isEditing"
          ng-click="company.edit()">
    <i class="fa fa-pencil"></i>
  </button>
  <p class="smbd" ng-show="data.funding_year">
    <translate>founded in</translate> {{ data.funding_year }}
  </p>
  <p class="smbd" ng-show="data.no_of_employees" translate translate-n="data.no_of_employees" translate-plural="{{$count}} employees">
    1 employee
  </p>
  <p ng-show="data.revenue_pa">
    <translate>Annual revenue</translate>: {{ data.revenue_pa | dottedInteger }}.00 €
  </p>
  <p ng-show="data.funding_amount">
    <translate>VC Founding amount</translate>: {{ data.funding_amount | dottedInteger }}.00 €
  </p>
  <a ng-show="data.website" class="mrg-btm-small no-marg-top link-blue smbd" target="_blank" ng-href="{{ data.website }}">
    {{ data.website }}
  </a>
</div>
<!--  EDIT OFFICES   box (remove hidden class to display)-->
<div class="edit-contacts mrg-btm" ng-show="webProfiles.editing">
  <button class="add-panel-close" ng-click="webProfiles.close()"><i class="fa fa-close"></i></button>
  <div class="edit-form">
    <div class="row">
      <div class="col-sm-12">
        <h5 class="edit-title" translate>Offices</h5>
        <!--  Entry for one office, we should repate this part for each office we are gonna create-->
        <!-- ti toggle the content just swith the class "closed" with the class "open" -->
        <div class="wrap-office" ng-repeat="office in offices.data" ng-class="{
                      closed: offices.editing !== $index,
                      open: offices.editing === $index,
                    }">
          <div class="edit-office">
            <button class="toggler-office" ng-click="offices.edit(office, $index)">
              {{ office.address_city.city }} <i class="fa fa-angle-down"></i><i class="fa fa-angle-up"></i>
            </button>
          </div>
          <div class="wrap-office-content">
            <hc-office-form
              ng-model="office"
              hc-disabled="loading"
              on-submit="offices.save(office, $form, $index)">

              <button type="submit"
                      class="fl-rg bg-green btn-small mrg-lft-small"
                      ng-disabled="loading"
                      translate>
                Save
              </button>
              <button type="button"
                      class="fl-rg bg-gray-lighter2 btn-small"
                      ng-click="offices.close()"
                      ng-disabled="loading"
                      translate>
                Cancel
              </button>
            </hc-office-form>
          </div>
        </div>

        <!-- End Entry for one office -->
        <div class="clearfix add-btn-wrap" ng-show="isEditing">
          <button class="add-btn no-marg-top" ng-click="offices.add()">
            <i class="fa fa-plus"></i>
            <translate>ADD</translate>
          </button>
        </div>

        <div class="wrap-office" ng-class="{ open: offices.editing === -2 }">
          <div class="wrap-office-content">
            <hc-office-form
              hc-scope="offices"
              name="form"
              hc-required="model.length === 0 || !offices.form.isPristine()"
              hc-disabled="loading"
              on-submit="offices.save($model, $form, model.length)">

              <div class="buttons-wrap">
                <button type="submit"
                        class="fl-rg bg-green btn-small mrg-lft-small"
                        ng-disabled="loading"
                        translate>
                  Save
                </button>
                <button type="button"
                        class="fl-rg bg-gray-lighter2 btn-small"
                        ng-click="offices.close()"
                        ng-disabled="loading"
                        translate>
                  Cancel
                </button>
              </div>
            </hc-office-form>
          </div>
        </div>
        <!-- end add new office -->

        <form ng-submit="webProfiles.save(webProfiles.data)">
          <h5 class="edit-title pad-top-20" translate>Web profiles</h5>
          <div class="row mrg-btm">
            <div class="col-sm-2 no-padd-right text-center">
              <i class="fa fa-facebook ico-edit"></i>
            </div>
            <div class="col-sm-10">
              <input type="url"
                     class="form-control"
                     name="fb_url"
                     ng-disabled="loading"
                     ng-model="webProfiles.data.fb_url">
            </div>
          </div>
          <div class="row">
            <div class="col-sm-2 no-padd-right text-center">
              <i class="fa fa-linkedin ico-edit"></i>
            </div>
            <div class="col-sm-10">
              <input type="url"
                     class="form-control mrg-btm"
                     name="linkedin_url"
                     ng-disabled="loading"
                     ng-model="webProfiles.data.linkedin_url">
            </div>
          </div>
          <div class="buttons-wrap">
            <button type="submit"
                    class="fl-rg bg-green btn-small mrg-lft-small"
                    ng-disabled="loading"
                    translate>
              Save
            </button>
            <button type="button"
                    class="fl-rg bg-gray-lighter2 btn-small"
                    ng-click="webProfiles.close()"
                    ng-disabled="loading"
                    translate>
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<div class="col-sm-12 info bg-gray-light mrg-btm office-wrap" ng-show="!webProfiles.editing"  ng-class="{
  open: officesSection,
  closed: !officesSection,
}">
  <div class="row" >
    <button type="submit"
            class="btn-edit-sub-skills btn-edit-sub-skills_bot"
            ng-disabled="loading || formOpen"
            ng-show="isEditing"
            ng-click="webProfiles.edit()">
      <i class="fa fa-pencil"></i>
    </button>
    <div class="contacts">
      <div class="fl-lf" translate>Offices</div>
      <div class="fl-rg">
        <a ng-show="data.facebook_url" ng-href="{{ data.facebook_url }}" target="_blank"><i class="fa fa-facebook"></i></a>
        <a ng-show="data.linkedin_url" ng-href="{{ data.linkedin_url }}" target="_blank"><i class="fa fa-linkedin"></i></a>
      </div>
    </div>
    <div class="padd-vert col-sm-12 office-list">
      <div class="mrg-btm-big office-list-item " ng-repeat="office in data.offices">
        <div class="orange smbd mrg-btm-small">{{ office.address_city.city }}</div>
        <div class="mrg-btm-small">{{ office.address_line1 }}</div>
        <div class="mrg-btm-small">{{ office.address_line2 }}</div>
        <div class="mrg-btm-small">{{ office.address_line3 }}</div>
        <div class="mrg-btm-small">
          {{ office.address_city.city }},
          {{ office.address_city.country_iso }}
          {{ office.address_zipcode }}
        </div>
        <div class="mrg-btm-small">
          {{ office.contact_salutation }}
          {{ office.contact_first_name }}
          {{ office.contact_last_name }}
        </div>
        <div class="smbd orange mail mrg-btm-small">
          <span class="iconParent"><i class="fa fa-envelope orange"></i></span>
          {{ office.contact_email }}
        </div>
        <div class="mobile">
          <span class="iconParent"><i class="fa fa-mobile orange font-22"></i></span>
          <span class="text">{{ office.contact_phone }}</span>
        </div>
      </div>
    </div>

    <div class="col-sm-12 brd-top mrg-btm pad-top-15" ng-show="data.offices.length > 1">
      <button class="showhide" ng-click="toggle('officesSection')">
        <span class="more">
          <i class="fa fa-angle-down"></i>
          <translate>more</translate>
        </span>
        <span class="less">
          <i class="fa fa-angle-up"></i>
          <translate>less</translate>
        </span>
      </button>
    </div>
  </div>
</div>


<form class="edit-salary mrg-btm" ng-show="benefits.editing" ng-submit="benefits.save(benefits.data)">
  <button class="add-panel-close" ng-click="benefits.close()"><i class="fa fa-close"></i></button>
  <h5 class="edit-title mrg-btm" translate>Benefits</h5>

  <div class="form-wrap edit-form">
    <hc-benefits-edit benefits="benefits.data.benefits"
                      other-benefits="benefits.data.other_benefits"></hc-benefits-edit>

    <div class="buttons-wrap">
      <button type="submit"
              class="fl-rg bg-green btn-small mrg-lft-small"
              ng-disabled="loading"
              translate>
        Save
      </button>
      <button type="button"
              class="fl-rg bg-gray-lighter2 btn-small"
              ng-click="benefits.close()"
              ng-disabled="loading"
              translate>
        Cancel
      </button>
    </div>
    <div class="clearfix"></div>
  </div>
</form>

<div class="col-sm-12 border-box mrg-btm padd-vert" ng-hide="benefits.editing">
  <div class="box-title box-title_left mrg-btm gray-darker">
    <translate>BENEFITS</translate>
    <button type="submit"
            class="btn-edit-sub"
            ng-disabled="loading || formOpen"
            ng-show="isEditing"
            ng-click="benefits.edit()">
      <i class="fa fa-pencil"></i>
    </button>
  </div>
  <div class="col-sm-12 mrg-btm-small" ng-if="!data.benefits.length && !data.other_benefits" translate>
    No Benefits defined yet.
  </div>
  <div ng-if="data.benefits.length || data.other_benefits">
    <hc-benefits-display col-class="col-sm-12 employer-benefit-icon"
                         list-class="row"
                         benefits="data.benefits"
                         other-benefits="data.other_benefits"></hc-benefits-display>
  </div>
</div>
</div>
</div>

<div class="col-sm-9">
<div class="row bg-white">
  <div class="col-sm-8">
    <div class="row">
      <div class="col-sm-12">
        <div class="user-desc">
          <div>
            <h2 class="main-title">{{ data.company_name }}</h2>
          </div>
          <div class="emp-off-desc">
            <div class="edit-tarpos" ng-show="summary.editing">
              <button class="add-panel-close" ng-click="summary.close()"><i class="fa fa-close"></i></button>
              <h5 class="edit-title" translate>Mission</h5>

              <form class="edit-form" ng-submit="summary.save(summary.data)">
                <text-angular ng-model="summary.data.mission_text"></text-angular>
                <div class="buttons-wrap mrg-top">
                  <button type="submit"
                          class="fl-rg bg-green btn-small mrg-lft-small"
                          ng-disabled="loading"
                          translate>
                    Save
                  </button>
                  <button type="button"
                          class="fl-rg bg-gray-lighter2 btn-small"
                          ng-click="summary.close()"
                          ng-disabled="loading"
                          translate>
                    Cancel
                  </button>
                </div>
                <div class="clearfix"></div>
              </form>

            </div>
            <div ng-hide="summary.editing">
              <span ng-bind-html="data.mission_text"></span>
              <button type="submit"
                      class="btn-edit-sub no-fl"
                      ng-disabled="loading || formOpen"
                      ng-show="isEditing"
                      ng-click="summary.edit()">
                <i class="fa fa-pencil"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4 bg-white user-desc">
    <div class="row">
      <div class="buttons-wrap">
      </div>
    </div>
  </div>
</div>
<div class="row mrg-btm">
  <div class="wrap-form-skills bg-gray-lighter3" ng-show="tech.editing">
    <button class="add-panel-close" ng-click="tech.close()"><i class="fa fa-close"></i></button>
    <div class="">
      <div class="col-sm-6">
        <form class="edit-form" ng-submit="tech.save(tech.data)">
          <div class="mrg-btm">
            <h5 class="edit-title" translate>Tech team size</h5>
            <input type="number"
                   class="form-control"
                   placeholder="Tech team size"
                   name="tech_team_size"
                   ng-disabled="loading"
                   ng-model="tech.data.tech_team_size">
          </div>
          <div class="mrg-btm">
            <h5 class="edit-title" translate>Technology tags</h5>
            <hc-label-typeahead
              name="techTags"
              placeholder="Technology tags"
              ng-disabled="loading"
              ng-model="tech.data.tech_tags"
              hc-source="searchTags($viewValue)"
              hc-error-message="Please choose at least one tag"
              hc-allow-new>
            </hc-label-typeahead>
          </div>
          <div class="buttons-wrap">
            <button type="submit"
                    class="fl-rg bg-green btn-small mrg-lft-small"
                    ng-disabled="loading"
                    translate>
              Save
            </button>
            <button type="button"
                    class="fl-rg bg-gray-lighter2 btn-small"
                    ng-click="tech.close()"
                    ng-disabled="loading"
                    translate>
              Cancel
            </button>
          </div>
        </form>

      </div>
      <div class="clearfix"></div>
    </div>
  </div>
  <div class="col-sm-12 border-box skills-box" ng-hide="tech.editing">

    <button type="submit"
            class="btn-edit-sub-skills"
            ng-disabled="loading || formOpen"
            ng-show="isEditing"
            ng-click="tech.edit()">
      <i class="fa fa-pencil"></i>
    </button>
    <div class="row">
      <div class="col-sm-3">
        <div class="skills-head">
          <div class="big-title skills-title" translate>TECH</div>
          <span ng-show="data.no_of_employees">
            <span class="smbd" translate>Team size</span><br/>
            {{ data.tech_team_size }}
          </span>
        </div>
      </div>
      <div class="col-sm-9">
        <div class="skills-wrap row">
          <div class="col-sm-4" ng-repeat="tag in data.tech_tags">
            <div class="skills-item alg-left"><i class="fa fa-rocket"></i><span>{{ tag }}</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Edit panel -->
<div class="edit-textarea add-panel" ng-show="descriptions.editing">
  <div class="row">
    <div class="col-sm-6">
      <form class="edit-form" ng-submit="descriptions.save(descriptions.data)">
        <button class="add-panel-close" ng-click="descriptions.close()"><i class="fa fa-close"></i></button>

        <h5 class="edit-title" translate>Technology Philosophy</h5>
        <text-angular
          name="tech_team_philosophy"
          placeholder="Technology Philosophy"
          ng-disabled="loading"
          ng-model="descriptions.data.tech_team_philosophy">
        </text-angular>

        <h5 class="edit-title" translate>Hiring Process</h5>
        <text-angular
          name="recruitment_process"
          required
          placeholder="Recruitment process"
          ng-disabled="loading"
          ng-model="descriptions.data.recruitment_process">
        </text-angular>

        <h5 class="edit-title" translate>Training Policy</h5>
        <text-angular
          name="training"
          placeholder="Training policy"
          ng-disabled="loading"
          ng-model="descriptions.data.training_policy">
        </text-angular>

        <div class="buttons-wrap">
          <button type="submit"
            class="fl-rg bg-green btn-small mrg-lft-small"
            ng-disabled="loading" translate>Save</button>
          <button type="button"
            class="fl-rg bg-gray-lighter2 btn-small"
            ng-click="descriptions.close()"
            ng-disabled="loading" translate>Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- End Edit panel -->
<div class="row bg-white mrg-btm" ng-hide="descriptions.editing">
  <div class="col-sm-12 pad-top-10">
    <button type="submit"
            class="btn-edit-sub no-marg-top"
            ng-disabled="loading || formOpen"
            ng-show="isEditing"
            ng-click="descriptions.edit()">
      <i class="fa fa-pencil"></i>
    </button>

    <div class="accordion-wrap">
      <div>
        <h3 class="accordion-subtitle" translate>Technology Philosophy</h3>
        <p class="pad-btm-15" ng-show="data.tech_team_philosophy" ng-bind-html="data.tech_team_philosophy"></p>
        <p class="pad-btm-15" ng-show="!data.tech_team_philosophy" translate>Not defined yet</p>
      </div>
      <div>
        <h3 class="accordion-subtitle" translate>Hiring process</h3>
        <p class="pad-btm-15" ng-show="data.recruitment_process" ng-bind-html="data.recruitment_process"></p>
        <p class="pad-btm-15" ng-show="!data.recruitment_process" translate>Not defined yet</p>
      </div>
      <div>
        <h3 class="accordion-subtitle" translate>Training policy</h3>
        <p class="pad-btm-15" ng-show="data.training_policy" ng-bind-html="data.training_policy"></p>
        <p class="pad-btm-15" ng-show="!data.training_policy" translate>Not defined yet</p>
      </div>
    </div>
  </div>
</div>

<div class="row bg-white mrg-btm">
  <div class="col-sm-12 pad-top-10 picture-gallery">
    <form class="edit-form" ng-submit="pictures.save(pictures.data)">
      <button type="submit"
              class="btn-edit-sub no-marg-top"
              ng-disabled="loading || formOpen"
              ng-show="isEditing"
              ng-click="pictures.edit()">
        <i class="fa fa-pencil"></i>
      </button>

      <div class="picture" ng-repeat="picture in pictures.data">
        <div class="img" ng-style="{ 'background-image': 'url(' + picture.url + ')' }">
          <button type="submit"
                  class="btn-edit-sub no-marg-top"
                  ng-disabled="loading"
                  ng-show="pictures.editing"
                  ng-click="pictures.remove($index)">
            <i class="fa fa-times"></i>
          </button>
        </div>
        <span class="description" ng-hide="pictures.editing">{{ picture.description }}</span>
        <input type="text"
          class="form-control"
          required
          ng-show="pictures.editing"
          ng-model="picture.description">
      </div>
      <div class="clearfix"></div>

      <div class="buttons-wrap" ng-show="pictures.editing">
        <button type="button"
          class="fl-lf bg-green btn-small mrg-lft-small"
          ng-disabled="loading"
          hc-file-selector="pictures.add($files)"
          accept="image/*"
          multiple
          translate>Add</button>
        <button type="submit"
          class="fl-rg bg-green btn-small mrg-lft-small"
          ng-disabled="loading || pictures.uploading" translate>Save</button>
        <button type="button"
          class="fl-rg bg-gray-lighter2 btn-small"
          ng-click="pictures.close()"
          ng-disabled="loading" translate>Cancel</button>
      </div>
    </form>
  </div>
</div>

</div>
</div>
</div>
</div>
