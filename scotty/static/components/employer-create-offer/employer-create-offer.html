<div class="status-wrap"></div>
<form class="component-employer-create-offer edit-form"
  name="formCreateOffer"
  ng-show="ready"
  ng-submit="createOffer.submit()">
  <div class="col-sm-6 col-sm-offset-3 bg-white pad-btm-20">
    <h3 class="col-sm-12 pad-top-10 pad-btm-20 big-title orange caps">Make an offer</h3>
    <div class="col-sm-12">
      <div class="bg-gray-lighter">
        <div class="col-sm-12 pad-top-20">
          <hc-candidate
            ng-if="ready"
            ng-model="candidate"
            hc-link-profile>
          </hc-candidate>
        </div>

        <div class="form-group required col-sm-12">
          <div class="col-sm-4">
            <label>Personal Message</label>
          </div>
          <div class="col-sm-8">
            <textarea
              class="form-control"
              placeholder="Personal message"
              name="message"
              required
              ng-disabled="loading"
              ng-model="model.message">
            </textarea>
            <div class="form-error" ng-show="formCreateOffer.message.$dirty && formCreateOffer.message.$invalid">
              <span ng-show="formCreateOffer.message.$error.required">
                Please insert a personal message for the candidate.
              </span>
            </div>
          </div>
        </div>

        <div class="form-group required col-sm-12">
          <div class="col-sm-4">
            <label>Annual salary</label>
          </div>
          <div class="col-sm-8">
            <div class="input-group">
              <span class="input-group-addon">â‚¬</span>
              <input type="dotted-integer"
                class="form-control"
                placeholder="Annual salary"
                name="salary"
                required
                ng-disabled="loading"
                ng-model="model.annual_salary">
              <span class="input-group-addon">.00</span>
            </div>

            <div class="form-error" ng-show="formCreateOffer.salary.$dirty && formCreateOffer.salary.$invalid">
              <span ng-show="formCreateOffer.salary.$error.required">
                Please insert your offer's salary.
              </span>
              <span ng-show="formCreateOffer.salary.$error.number">
                Please insert a number.
              </span>
              <span ng-show="formCreateOffer.salary.$error.pattern">
                Decimals are not allowed.
              </span>
            </div>
          </div>
        </div>
        
        <div class="form-group required col-sm-12">
          <div class="col-sm-4">
            <label>Location</label>
          </div>
          <div class="col-sm-8">
            <input type="text"
              name="location"
              class="form-control"
              required
              ng-disabled="loading"
              ng-model="locationText"
              ng-blur="createOffer.setLocation(locationText)"
              typeahead-on-select="createOffer.setLocation(locationText)"
              typeahead="location for location in createOffer.searchLocations($viewValue)">
            <div class="form-error" ng-show="errorInvalidCity || (formCreateOffer.location.$dirty && formCreateOffer.location.$invalid)">
              <span ng-show="formCreateOffer.location.$error.required">
                Please insert the city of the offer.
              </span>
              <span ng-show="errorInvalidCity">
                Please choose a city from the menu.
              </span>
            </div>
          </div>
        </div>

        <div class="form-group required col-sm-12">
          <div class="col-sm-4">
            <label>Role</label>
          </div>
          <div class="col-sm-8">
            <input type="text"
              class="form-control"
              name="role"
              required
              ng-disabled="loading"
              ng-model="model.role"
              typeahead="role for role in createOffer.searchRoles($viewValue)">

            <div class="form-error" ng-show="formCreateOffer.role.$dirty && formCreateOffer.role.$invalid">
              <span ng-show="formCreateOffer.role.$error.required">Please insert the role for this offer.</span>
            </div>
          </div>
        </div>
        

        <div class="form-group required col-sm-12">
          <div class="col-sm-4">
            <label>Technologies &amp; Skills</label>
          </div>
          <div class="col-sm-8">
            <hc-label-typeahead
              placeholder="Technologies &amp; skills"
              ng-disabled="loading"
              ng-model="model.technologies"
              hc-source="createOffer.searchSkills($viewValue)"
              hc-error-message="Please choose at least one skill"
              hc-allow-new>
            </hc-label-typeahead>
          </div>
        </div>

        <div class="form-group required col-sm-12">
          <div class="col-sm-4">
            <label>Job description</label>
          </div>
          <div class="col-sm-8">
            <text-angular
              name="jobDescription"
              required
              ng-model="model.job_description">
            </text-angular>

            <div class="form-error" ng-show="dirty && !model.job_description">
              <span>Please provide a description of this position.</span>
            </div>
          </div>
        </div>
        
        <div class="form-group required col-sm-12">
          <div class="col-sm-4">
            <label>Hiring process</label>
          </div>
          <div class="col-sm-8">
            <text-angular
              name="hiringProcess"
              required
              ng-model="model.interview_details">
            </text-angular>
            <div class="form-error" ng-show="dirty && !model.interview_details">
              <span>Please provide a little description of the hiring process.</span>
            </div>
          </div>
        </div>

        <div class="col-sm-12">
          <div class="col-sm-4">
            <label>Benefits</label>
          </div>
          <div class="col-sm-8">
            <ul class="row">
              <li class="col-sm-6 form-benefits" ng-repeat="benefit in benefits">
                <label class="{{ benefit.value }}">
                  {{ benefit.value }}
                  <input type="checkbox"
                    ng-disabled="loading"
                    ng-model="benefit.selected">
                </label>
              </li>
            </ul>
          </div>
        </div>

        <div class="form-group col-sm-12">
          <div class="buttons-wrap col-sm-12 mrg-btm">
            <button type="submit" class="bg-green fl-rg btn-small" ng-disabled="loading">Submit offer</button>
          </div>
        </div>


        <div class="clearfix"></div>
      </div>
    </div>
  </div>
</form>
