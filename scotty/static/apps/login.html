<!DOCTYPE html>
<html>
<head>
    <script src="//cdn.optimizely.com/js/2211330333.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="web application">
    <meta name="author" content="HackandCraft">
    <title>Scotty</title>
    <link type="text/css" rel="stylesheet" href="http://fast.fonts.net/cssapi/ad86cd99-af73-48f3-b26d-bec8dd63fa59.css"/>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- build:css build.css -->
    <link rel="stylesheet/less" href="index/styles.less">
    <script>less = { logLevel: 1 };</script>
    <script src="../bower_components/less/dist/less-1.7.0.js"></script>
    <!-- endbuild -->
</head>
<body>
<div class="page-wrap">
    <nav class="navbar navbar-default navbar-home" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html" title="Scotty"></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="candidate/#/login/">For it professionals</a></li>
                    <li><a href="employer/#/login/">For companies</a></li>
                    <li><a href="about-us.html">About us</a></li>
                    <li><a href="#">Contact</a></li>
                    <li class="active"><a href="login.html" class="login-home">Login</a></li>
                    <li><a href="#">En <i class="fa fa-angle-down hidden"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="content" class="">
        <div class="banner">
            <div class="banner-inner banner-inner-small">
                <div class="banner-login">
                    <h3>Enter as candidate or employer</h3>
                    <form id="login-form">
                        
                        <div class="form-group required row">
                            <label class="col-sm-4">Email</label>
                            <div class="col-sm-8">
                                <input class="form-control" type="email" name="email" required>
                            </div>
                        </div>
                        <div class="form-group required row">
                            <label class="col-sm-4">Password</label>
                            <div class="col-sm-8">
                                <input class="form-control" type="password" name="password" required>
                            </div>
                        </div>
                        <div id="error" style="display: none">Unknown email or password.</div>
                        <div class="buttons-wrap">
                            <button type="submit" class="fl-rg bg-green btn-small mrg-lft-small">Login</button>
                            <a class="forget" href="#">Forgot your password?</a>
                            <div class="clearfix"></div>
                        </div>
                        <div class="signup-link">Don‘t have a login yet, sign up <a href="#" class="orange">here</a>.</div>
                        <div class="clearfix"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var url = 'http://sheltered-meadow-1359.herokuapp.com/api/v1/login';
        var $form = document.getElementById('login-form');
        var $email = document.getElementsByName('email')[0];
        var $password = document.getElementsByName('password')[0];
        var $error = document.getElementById('error');

        function showError() {
            $error.style.display = 'block';
            setTimeout(function() {
                $error.style.display = 'none';
            }, 5000);
        }


        $form.addEventListener('submit', function(event) {
            event.preventDefault();
            request(url, {
                email: $email.value,
                pwd: $password.value,
            }, function(response) {
                if (response.status === 404)
                    return showError();

                var data = JSON.parse(response.responseText);
                document.location = data.preferred;
            });
        }, true);


        function request(url, data, callback) {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', url);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.withCredentials = true;
            xhr.send(JSON.stringify(data));
            xhr.addEventListener('readystatechange', function() {
                if (xhr.readyState === 4)
                    callback(xhr);
            });
        }

    </script>

</div>

<div class="footer">
    <div class="bg-blue">

        <div class="container ">
            <div class="footer-inner">

                <div class="foot-item">
                    <h5>Contact us</h5>
                    <p class="smbd">Address line 1</br>
                        ZIPCode, Town</br>
                        Country
                    </p>

                    <p><span class="iconParent"><i class="fa fa-phone orange"></span></i> +49 xx xx xx x</br>
                        <span class="iconParent"><i class="fa fa-envelope orange"></i></span> contact@4scotty.com</p>

                    <p>©  2014 4scotty. </br>All Rights Reserved.</p>
                </div>

                <div class="foot-item">
                    <h5>This Site</h5>
                    <div><a href="candidate/#/login/">For IT professionals</a></div>
                    <div><a href="employer/#/login/">For Companies</a></div>
                    <div><a href="about-us.html">About us</a></div>
                    <div><a href="#">Contact</a></div>
                    <div><a href="login.html">Log in</a></div>
                </div>

                <div class="foot-item">
                    <h5>More</h5>
                    <div><a href="#">Support</a></div>
                    <div><a href="faq.html">FAQ</a></div>
                    <div><a href="imprint.html">Imprint</a></div>
                    <div><a href="disclaimer.html">Disclaimer</a></div>
                    <div><a href="terms-of-service.html">Terms & Conditions</a></div>
                </div>

                <div class="foot-item social-item">
                    <h5>Connect</h5>
                    <div><a href="#"><i class="fa fa-twitter "></i></a></div>
                    <div><a href="#"><i class="fa fa-facebook "></i></a></div>
                    <div><a href="#"><i class="fa fa-linkedin "></i></a></div>
                    <div><a href="#"><i class="fa fa-xing "></i></a></div>
                </div>

                <div class="foot-item">
                    <h5 class="alg-cen">Newsletter</h5>
                    <input type="text" />
                    <button>Submit</button>
                </div>

            </div>

        </div>
    </div>
</div>
<!--
Until angular logic is required this will be disabled
<ui-view></ui-view>
<!- build:js build.js ->
<script src="../bower_components/requirejs/require.js"></script>
<script src="index/requirejs-config.js"></script>
<!- endbuild -->
</body>
</html>
